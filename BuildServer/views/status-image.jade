doctype xml

-var fills = {Warn: "yellow", OK: "lightgreen" }
-var colors = {Warn: "black", OK: "black" }
-var fill = fills[status] || "red"
-var color = colors[status] || "white"

svg(xmlns="http://www.w3.org/2000/svg", xmlns:xlink="http://www.w3.org/1999/xlink", version="1.1", width="800px", height=(message?"110px":"90px"))
	a(xlink:href="/status/" + [owner, reponame, branchName, rev].join("/"))
		rect(width="100%", height="100%", fill=fill)
		text(x=18, y=47, font-size=36, font-weight="bold", fill=color) Build status: #{status}
		text(x=20, y=70, font-size=12, fill=color) Owner: #{owner}, reponame: #{reponame}, branch: #{branchName}, rev: #{rev}
		if (message)
			text(x=20, y=95, font-size=18, fill=color) #{message}
